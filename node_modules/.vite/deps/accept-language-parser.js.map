{
  "version": 3,
  "sources": ["../../accept-language-parser/index.js"],
  "sourcesContent": ["var regex = /((([a-zA-Z]+(-[a-zA-Z0-9]+){0,2})|\\*)(;q=[0-1](\\.[0-9]+)?)?)*/g;\n\nvar isString = function(s){\n    return typeof(s) === 'string';\n};\n\nfunction parse(al){\n    var strings = (al || \"\").match(regex);\n    return strings.map(function(m){\n        if(!m){\n            return;\n        }\n\n        var bits = m.split(';');\n        var ietf = bits[0].split('-');\n        var hasScript = ietf.length === 3;\n\n        return {\n            code: ietf[0],\n            script: hasScript ? ietf[1] : null,\n            region: hasScript ? ietf[2] : ietf[1],\n            quality: bits[1] ? parseFloat(bits[1].split('=')[1]) : 1.0\n        };\n    }).filter(function(r){\n            return r;\n        }).sort(function(a, b){\n            return b.quality - a.quality;\n        });\n}\n\nfunction pick(supportedLanguages, acceptLanguage, options){\n    options = options || {};\n\n    if (!supportedLanguages || !supportedLanguages.length || !acceptLanguage) {\n        return null;\n    }\n\n    if(isString(acceptLanguage)){\n        acceptLanguage = parse(acceptLanguage);\n    }\n\n    var supported = supportedLanguages.map(function(support){\n        var bits = support.split('-');\n        var hasScript = bits.length === 3;\n\n        return {\n            code: bits[0],\n            script: hasScript ? bits[1] : null,\n            region: hasScript ? bits[2] : bits[1]\n        };\n    });\n\n    for (var i = 0; i < acceptLanguage.length; i++) {\n        var lang = acceptLanguage[i];\n        var langCode = lang.code.toLowerCase();\n        var langRegion = lang.region ? lang.region.toLowerCase() : lang.region;\n        var langScript = lang.script ? lang.script.toLowerCase() : lang.script;\n        for (var j = 0; j < supported.length; j++) {\n            var supportedCode = supported[j].code.toLowerCase();\n            var supportedScript = supported[j].script ? supported[j].script.toLowerCase() : supported[j].script;\n            var supportedRegion = supported[j].region ? supported[j].region.toLowerCase() : supported[j].region;\n            if (langCode === supportedCode &&\n              (options.loose || !langScript || langScript === supportedScript) &&\n              (options.loose  || !langRegion || langRegion === supportedRegion)) {\n                return supportedLanguages[j];\n            }\n        }\n    }\n\n    return null;\n}\n\nmodule.exports.parse = parse;\nmodule.exports.pick = pick;\n"],
  "mappings": ";;;;;AAAA;AAAA;AAAA,QAAI,QAAQ;AAEZ,QAAI,WAAW,SAAS,GAAE;AACtB,aAAO,OAAO,MAAO;AAAA,IACzB;AAEA,aAAS,MAAM,IAAG;AACd,UAAI,WAAW,MAAM,IAAI,MAAM,KAAK;AACpC,aAAO,QAAQ,IAAI,SAAS,GAAE;AAC1B,YAAG,CAAC,GAAE;AACF;AAAA,QACJ;AAEA,YAAI,OAAO,EAAE,MAAM,GAAG;AACtB,YAAI,OAAO,KAAK,CAAC,EAAE,MAAM,GAAG;AAC5B,YAAI,YAAY,KAAK,WAAW;AAEhC,eAAO;AAAA,UACH,MAAM,KAAK,CAAC;AAAA,UACZ,QAAQ,YAAY,KAAK,CAAC,IAAI;AAAA,UAC9B,QAAQ,YAAY,KAAK,CAAC,IAAI,KAAK,CAAC;AAAA,UACpC,SAAS,KAAK,CAAC,IAAI,WAAW,KAAK,CAAC,EAAE,MAAM,GAAG,EAAE,CAAC,CAAC,IAAI;AAAA,QAC3D;AAAA,MACJ,CAAC,EAAE,OAAO,SAAS,GAAE;AACb,eAAO;AAAA,MACX,CAAC,EAAE,KAAK,SAAS,GAAG,GAAE;AAClB,eAAO,EAAE,UAAU,EAAE;AAAA,MACzB,CAAC;AAAA,IACT;AAEA,aAAS,KAAK,oBAAoB,gBAAgB,SAAQ;AACtD,gBAAU,WAAW,CAAC;AAEtB,UAAI,CAAC,sBAAsB,CAAC,mBAAmB,UAAU,CAAC,gBAAgB;AACtE,eAAO;AAAA,MACX;AAEA,UAAG,SAAS,cAAc,GAAE;AACxB,yBAAiB,MAAM,cAAc;AAAA,MACzC;AAEA,UAAI,YAAY,mBAAmB,IAAI,SAAS,SAAQ;AACpD,YAAI,OAAO,QAAQ,MAAM,GAAG;AAC5B,YAAI,YAAY,KAAK,WAAW;AAEhC,eAAO;AAAA,UACH,MAAM,KAAK,CAAC;AAAA,UACZ,QAAQ,YAAY,KAAK,CAAC,IAAI;AAAA,UAC9B,QAAQ,YAAY,KAAK,CAAC,IAAI,KAAK,CAAC;AAAA,QACxC;AAAA,MACJ,CAAC;AAED,eAAS,IAAI,GAAG,IAAI,eAAe,QAAQ,KAAK;AAC5C,YAAI,OAAO,eAAe,CAAC;AAC3B,YAAI,WAAW,KAAK,KAAK,YAAY;AACrC,YAAI,aAAa,KAAK,SAAS,KAAK,OAAO,YAAY,IAAI,KAAK;AAChE,YAAI,aAAa,KAAK,SAAS,KAAK,OAAO,YAAY,IAAI,KAAK;AAChE,iBAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AACvC,cAAI,gBAAgB,UAAU,CAAC,EAAE,KAAK,YAAY;AAClD,cAAI,kBAAkB,UAAU,CAAC,EAAE,SAAS,UAAU,CAAC,EAAE,OAAO,YAAY,IAAI,UAAU,CAAC,EAAE;AAC7F,cAAI,kBAAkB,UAAU,CAAC,EAAE,SAAS,UAAU,CAAC,EAAE,OAAO,YAAY,IAAI,UAAU,CAAC,EAAE;AAC7F,cAAI,aAAa,kBACd,QAAQ,SAAS,CAAC,cAAc,eAAe,qBAC/C,QAAQ,SAAU,CAAC,cAAc,eAAe,kBAAkB;AACjE,mBAAO,mBAAmB,CAAC;AAAA,UAC/B;AAAA,QACJ;AAAA,MACJ;AAEA,aAAO;AAAA,IACX;AAEA,WAAO,QAAQ,QAAQ;AACvB,WAAO,QAAQ,OAAO;AAAA;AAAA;",
  "names": []
}
